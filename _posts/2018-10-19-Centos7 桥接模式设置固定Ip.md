---
title: Centos7 桥接模式设置固定Ip
description: 
categories:
 - centos
tags:
 - centos
---

> Centos7 桥接模式设置固定Ip

虚拟机安装Centos7 我这直接安装的带桌面的GNOME，个人学习使用，切换字符界面 int 3，切换回桌面int 5。

##### 配置固定Ip地址 教科书式笔记>>>

- 1.配置ip地址等信息

```
cd /etc/sysconfig/network-scripts/
编辑 ifcfg-enoXXXXXXX文件

TYPE=Ethernet # 网络类型为以太网
BOOTPROTO=static # 手动分配ip
DEVICE=eno16777736 # 网卡设备名，设备名一定要跟文件名一致
ONBOOT=yes # 该网卡是否随网络服务启动
IPADDR=192.168.0.200 # 该网卡ip地址
NETMASK=255.255.255.0 # 子网掩码
GATEWAY=192.168.0.1 # 网关
DNS1=8.8.8.8 # DNS，8.8.8.8为Google提供的免费DNS服务器的IP地址
```

- 2.配置网络工作（可选）

```
在/etc/sysconfig/network文件里增加如下配置

vim /etc/sysconfig/network

NETWORKING=yes # 网络是否工作，此处一定不能为no
```

- 3.配置公共DNS服务

```
在/etc/resolv.conf文件里增加如下配置

vim /etc/resolv.conf
nameserver 8.8.8.8
```

- 4.重启网络服务

```
service network restart
```

- 5.关闭防火墙

```
systemctl stop firewalld # 临时关闭防火墙
systemctl disable firewalld # 禁止开机启动

```

> 问题

重启完成发现ip地址已经设置成功，但是ping baidu.com ping不通。
感觉像DNS的问题，所以我将dns nameserver 改成了网关的ip。

- 成功的配置：

```
第一步配置

TYPE="Ethernet"
BOOTPROTO="static"
DEFROUTE="yes"
PEERDNS="yes"
PEERROUTES="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_PEERDNS="yes"
IPV6_PEERROUTES="yes"
IPV6_FAILURE_FATAL="no"
NAME="eno16777736"
UUID="71a9001c-7d87-4377-863f-de666558ec04"
DEVICE="eno16777736"
ONBOOT="yes"
IPADDR=192.168.3.201
NETMASK=255.255.255.0
GATEWAY=192.168.3.1


第三步配置
# Generated by NetworkManagern
nameserver 192.168.3.1

```

----

```
Vim 命令

按i 进行插入
编辑完成之后，按esc再输入  :wq保存并退出

:w 保存文件但不退出vi
:w file 将修改另外保存到file中，不退出vi
:w! 强制保存，不推出vi
:wq 保存文件并退出vi
:wq! 强制保存文件，并退出vi
q: 不保存文件，退出vi
:q! 不保存文件，强制退出vi
:e! 放弃所有修改，从上次保存文件开始再编辑
```

*标记：世界这么大，过客这么多，好不容易才遇见一个你，如何还能弃之于人海。*